<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Cytopia: src/engine/basics/isoMath.hxx File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cytopia_icon_iso.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cytopia
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">A city building simulation game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('isoMath_8hxx.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">isoMath.hxx File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="point_8hxx_source.html">point.hxx</a>&quot;</code><br />
<code>#include &quot;SDL.h&quot;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for isoMath.hxx:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx__incl.svg" width="370" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx__dep__incl.svg" width="100%" height="384"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="isoMath_8hxx_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0a076d973bc64ffa7859b894793c8000"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPoint.html">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isoMath_8hxx.html#a0a076d973bc64ffa7859b894793c8000">calculateIsoCoordinates</a> (const SDL_Point &amp;screenCoordinates)</td></tr>
<tr class="memdesc:a0a076d973bc64ffa7859b894793c8000"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates screen space coordinates to isometric space coordinates. A formula is used to calculate the iso coordinates from given screen coordinates. No tile height is taken into account.  <a href="#a0a076d973bc64ffa7859b894793c8000">More...</a><br /></td></tr>
<tr class="separator:a0a076d973bc64ffa7859b894793c8000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391008ab09b55454e07562478b3f4103"><td class="memItemLeft" align="right" valign="top">SDL_Point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isoMath_8hxx.html#a391008ab09b55454e07562478b3f4103">convertIsoToScreenCoordinates</a> (const <a class="el" href="structPoint.html">Point</a> &amp;isoCoordinates, bool calcWithoutOffset=false)</td></tr>
<tr class="memdesc:a391008ab09b55454e07562478b3f4103"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts coordinates from isometric to screen space The given isometric coordinates (which contain height information) are converted to the screen coordinates. The coordinates represent the x, y position of the tile where it is drawn (if tile height / width is added, the whole bounding box could be calculated) <a class="el" href="classCamera.html">Camera</a> Offset and current zoomLevel is taken into account  <a href="#a391008ab09b55454e07562478b3f4103">More...</a><br /></td></tr>
<tr class="separator:a391008ab09b55454e07562478b3f4103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c5f070c4a876bc6e8978635d02ce52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPoint.html">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isoMath_8hxx.html#ad3c5f070c4a876bc6e8978635d02ce52">convertScreenToIsoCoordinates</a> (const SDL_Point &amp;screenCoordinates)</td></tr>
<tr class="memdesc:ad3c5f070c4a876bc6e8978635d02ce52"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts screen space coordinates to isometric space coordinates. To convert screen coordinates in to isometric coordinates, all the textures inside the nodes are checked, if the click is inside the bounding box of a texture and if so, another check ensures, that the click is not on a transparent pixel. The isometric coordinates of the map node containing the texture with the highest Z-Level (drawing order) is returned. <a class="el" href="classCamera.html">Camera</a> Offset and current zoomLevel is taken into account  <a href="#ad3c5f070c4a876bc6e8978635d02ce52">More...</a><br /></td></tr>
<tr class="separator:ad3c5f070c4a876bc6e8978635d02ce52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef3481b8248d064e79f9d0b2a27cfe7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isoMath_8hxx.html#abef3481b8248d064e79f9d0b2a27cfe7">isPointWithinMapBoundaries</a> (const <a class="el" href="structPoint.html">Point</a> &amp;isoCoordinates)</td></tr>
<tr class="memdesc:abef3481b8248d064e79f9d0b2a27cfe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if given coordinates are within map boundaries Checks if coordinates are within map boundaries.  <a href="#abef3481b8248d064e79f9d0b2a27cfe7">More...</a><br /></td></tr>
<tr class="separator:abef3481b8248d064e79f9d0b2a27cfe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53022f1a18227cd66aef14eaf988f686"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structPoint.html">Point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isoMath_8hxx.html#a53022f1a18227cd66aef14eaf988f686">createBresenhamLine</a> (const <a class="el" href="structPoint.html">Point</a> &amp;isoCoordinatesStart, const <a class="el" href="structPoint.html">Point</a> &amp;isoCoordinatesEnd)</td></tr>
<tr class="memdesc:a53022f1a18227cd66aef14eaf988f686"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a line between two points using the Bresenham Line algorithm Creates a line between two points using the Bresenham Line algorithm.  <a href="#a53022f1a18227cd66aef14eaf988f686">More...</a><br /></td></tr>
<tr class="separator:a53022f1a18227cd66aef14eaf988f686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ecf6122bf61be6914c02ea6b1dd8ad"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ac2ecf6122bf61be6914c02ea6b1dd8ad"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="isoMath_8hxx.html#ac2ecf6122bf61be6914c02ea6b1dd8ad">clamp</a> (const T &amp;n, const T &amp;lower, const T &amp;upper)</td></tr>
<tr class="memdesc:ac2ecf6122bf61be6914c02ea6b1dd8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clamp value.  <a href="#ac2ecf6122bf61be6914c02ea6b1dd8ad">More...</a><br /></td></tr>
<tr class="separator:ac2ecf6122bf61be6914c02ea6b1dd8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0a076d973bc64ffa7859b894793c8000"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPoint.html">Point</a> calculateIsoCoordinates </td>
          <td>(</td>
          <td class="paramtype">const SDL_Point &amp;&#160;</td>
          <td class="paramname"><em>screenCoordinates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates screen space coordinates to isometric space coordinates. A formula is used to calculate the iso coordinates from given screen coordinates. No tile height is taken into account. </p>
<dl class="section note"><dt>Note</dt><dd>This function will not work for elevated tiles </dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structPoint.html">Point()</a> - object containing the calculated isometric coordinates of the tile that matches the screen coordinates </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structPoint.html">Point()</a></td><td>screenCoordinates - object containing screen space coordinates </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="isoMath_8cxx_source.html#l00008">8</a> of file <a class="el" href="isoMath_8cxx_source.html">isoMath.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;{</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> isoX =</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>((screenCoordinates.x + <a class="code" href="classCamera.html#a333e1a61afc54d5c7d7c85c0ff5a03f5">Camera::cameraOffset</a>.x + 2.0 * (screenCoordinates.y + <a class="code" href="classCamera.html#a333e1a61afc54d5c7d7c85c0ff5a03f5">Camera::cameraOffset</a>.y)) /</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;                           (<a class="code" href="classCamera.html#aabeba4dcf5de56d4d52c3c99ec2d1d71">Camera::tileSize</a>.x * <a class="code" href="classCamera.html#aef9d80c6374bbacfcd1944fbec946fe8">Camera::zoomLevel</a>) +</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                       1);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> isoY =</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>((screenCoordinates.x + <a class="code" href="classCamera.html#a333e1a61afc54d5c7d7c85c0ff5a03f5">Camera::cameraOffset</a>.x - 2.0 * (screenCoordinates.y + <a class="code" href="classCamera.html#a333e1a61afc54d5c7d7c85c0ff5a03f5">Camera::cameraOffset</a>.y)) /</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                       (<a class="code" href="classCamera.html#aabeba4dcf5de56d4d52c3c99ec2d1d71">Camera::tileSize</a>.x * <a class="code" href="classCamera.html#aef9d80c6374bbacfcd1944fbec946fe8">Camera::zoomLevel</a>));</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  <span class="keywordflow">return</span> {isoX, isoY, 0, 0};</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div><div class="ttc" id="classCamera_html_aef9d80c6374bbacfcd1944fbec946fe8"><div class="ttname"><a href="classCamera.html#aef9d80c6374bbacfcd1944fbec946fe8">Camera::zoomLevel</a></div><div class="ttdeci">static float zoomLevel</div><div class="ttdoc">the zoom level of the camera. </div><div class="ttdef"><b>Definition:</b> <a href="Camera_8hxx_source.html#l00015">Camera.hxx:15</a></div></div>
<div class="ttc" id="classCamera_html_a333e1a61afc54d5c7d7c85c0ff5a03f5"><div class="ttname"><a href="classCamera.html#a333e1a61afc54d5c7d7c85c0ff5a03f5">Camera::cameraOffset</a></div><div class="ttdeci">static SDL_Point cameraOffset</div><div class="ttdoc">the offset of the camera. </div><div class="ttdef"><b>Definition:</b> <a href="Camera_8hxx_source.html#l00013">Camera.hxx:13</a></div></div>
<div class="ttc" id="classCamera_html_aabeba4dcf5de56d4d52c3c99ec2d1d71"><div class="ttname"><a href="classCamera.html#aabeba4dcf5de56d4d52c3c99ec2d1d71">Camera::tileSize</a></div><div class="ttdeci">static SDL_Point tileSize</div><div class="ttdoc">the size of the default floor tiles. </div><div class="ttdef"><b>Definition:</b> <a href="Camera_8hxx_source.html#l00011">Camera.hxx:11</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx_a0a076d973bc64ffa7859b894793c8000_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac2ecf6122bf61be6914c02ea6b1dd8ad"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T clamp </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>upper</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clamp value. </p>

<p>Definition at line <a class="el" href="isoMath_8hxx_source.html#l00055">55</a> of file <a class="el" href="isoMath_8hxx_source.html">isoMath.hxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{ <span class="keywordflow">return</span> std::max(lower, std::min(n, upper)); }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a391008ab09b55454e07562478b3f4103"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SDL_Point convertIsoToScreenCoordinates </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPoint.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>isoCoordinates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>calcWithoutOffset</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts coordinates from isometric to screen space The given isometric coordinates (which contain height information) are converted to the screen coordinates. The coordinates represent the x, y position of the tile where it is drawn (if tile height / width is added, the whole bounding box could be calculated) <a class="el" href="classCamera.html">Camera</a> Offset and current zoomLevel is taken into account </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structPoint.html">Point()</a> object containing screen space coordinates </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structPoint.html">Point()</a></td><td>isoCoordinates - object containing isometric coordinates </td></tr>
    <tr><td class="paramname">bool</td><td>calcWithoutOffset - optional parameter to calculate screenspace coordinates without zoomLevel and cameraOffset taken into account </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="isoMath_8cxx_source.html#l00021">21</a> of file <a class="el" href="isoMath_8cxx_source.html">isoMath.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;{</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> heightOffset = 24;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> zoomedTileSizeX = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classCamera.html#aabeba4dcf5de56d4d52c3c99ec2d1d71">Camera::tileSize</a>.x * <a class="code" href="classCamera.html#aef9d80c6374bbacfcd1944fbec946fe8">Camera::zoomLevel</a>);</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> zoomedTileSizeY = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classCamera.html#aabeba4dcf5de56d4d52c3c99ec2d1d71">Camera::tileSize</a>.y * <a class="code" href="classCamera.html#aef9d80c6374bbacfcd1944fbec946fe8">Camera::zoomLevel</a>);</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Map_8cxx.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(zoomedTileSizeX * isoCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> + zoomedTileSizeX * isoCoordinates.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a>) / 2;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Map_8cxx.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(zoomedTileSizeY * isoCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> - zoomedTileSizeY * isoCoordinates.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a>) / 2;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordflow">if</span> (!calcWithoutOffset)</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    x -= <a class="code" href="classCamera.html#a333e1a61afc54d5c7d7c85c0ff5a03f5">Camera::cameraOffset</a>.x;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    y -= <a class="code" href="classCamera.html#a333e1a61afc54d5c7d7c85c0ff5a03f5">Camera::cameraOffset</a>.y;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">if</span> (isoCoordinates.<a class="code" href="structPoint.html#aff60c30e571c0a59d6d54a1d05162a38">height</a> &gt; 0)</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    y = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(y - ((<a class="code" href="classCamera.html#aabeba4dcf5de56d4d52c3c99ec2d1d71">Camera::tileSize</a>.x - heightOffset) * isoCoordinates.<a class="code" href="structPoint.html#aff60c30e571c0a59d6d54a1d05162a38">height</a> * <a class="code" href="classCamera.html#aef9d80c6374bbacfcd1944fbec946fe8">Camera::zoomLevel</a>));</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  }</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">return</span> {<a class="code" href="Map_8cxx.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, y};</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div><div class="ttc" id="structPoint_html_a8c779e11e694b20e0946105a9f5de842"><div class="ttname"><a href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">Point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00011">point.hxx:11</a></div></div>
<div class="ttc" id="structPoint_html_a2e1b5fb2b2a83571f5c0bc0f66a73cf7"><div class="ttname"><a href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">Point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00016">point.hxx:16</a></div></div>
<div class="ttc" id="classCamera_html_aef9d80c6374bbacfcd1944fbec946fe8"><div class="ttname"><a href="classCamera.html#aef9d80c6374bbacfcd1944fbec946fe8">Camera::zoomLevel</a></div><div class="ttdeci">static float zoomLevel</div><div class="ttdoc">the zoom level of the camera. </div><div class="ttdef"><b>Definition:</b> <a href="Camera_8hxx_source.html#l00015">Camera.hxx:15</a></div></div>
<div class="ttc" id="Map_8cxx_html_a0a2f84ed7838f07779ae24c5a9086d33"><div class="ttname"><a href="Map_8cxx.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="Map_8cxx_source.html#l00038">Map.cxx:38</a></div></div>
<div class="ttc" id="Map_8cxx_html_a6150e0515f7202e2fb518f7206ed97dc"><div class="ttname"><a href="Map_8cxx.html#a6150e0515f7202e2fb518f7206ed97dc">x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="Map_8cxx_source.html#l00037">Map.cxx:37</a></div></div>
<div class="ttc" id="structPoint_html_aff60c30e571c0a59d6d54a1d05162a38"><div class="ttname"><a href="structPoint.html#aff60c30e571c0a59d6d54a1d05162a38">Point::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00026">point.hxx:26</a></div></div>
<div class="ttc" id="classCamera_html_a333e1a61afc54d5c7d7c85c0ff5a03f5"><div class="ttname"><a href="classCamera.html#a333e1a61afc54d5c7d7c85c0ff5a03f5">Camera::cameraOffset</a></div><div class="ttdeci">static SDL_Point cameraOffset</div><div class="ttdoc">the offset of the camera. </div><div class="ttdef"><b>Definition:</b> <a href="Camera_8hxx_source.html#l00013">Camera.hxx:13</a></div></div>
<div class="ttc" id="classCamera_html_aabeba4dcf5de56d4d52c3c99ec2d1d71"><div class="ttname"><a href="classCamera.html#aabeba4dcf5de56d4d52c3c99ec2d1d71">Camera::tileSize</a></div><div class="ttdeci">static SDL_Point tileSize</div><div class="ttdoc">the size of the default floor tiles. </div><div class="ttdef"><b>Definition:</b> <a href="Camera_8hxx_source.html#l00011">Camera.hxx:11</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx_a391008ab09b55454e07562478b3f4103_icgraph.svg" width="100%" height="492"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad3c5f070c4a876bc6e8978635d02ce52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPoint.html">Point</a> convertScreenToIsoCoordinates </td>
          <td>(</td>
          <td class="paramtype">const SDL_Point &amp;&#160;</td>
          <td class="paramname"><em>screenCoordinates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts screen space coordinates to isometric space coordinates. To convert screen coordinates in to isometric coordinates, all the textures inside the nodes are checked, if the click is inside the bounding box of a texture and if so, another check ensures, that the click is not on a transparent pixel. The isometric coordinates of the map node containing the texture with the highest Z-Level (drawing order) is returned. <a class="el" href="classCamera.html">Camera</a> Offset and current zoomLevel is taken into account </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structPoint.html">Point()</a> - object containing the isometric coordinates of the tile that matches the screen coordinates </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structPoint.html">Point()</a></td><td>screenCoordinates - object containing screen space coordinates </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="isoMath_8cxx_source.html#l00045">45</a> of file <a class="el" href="isoMath_8cxx_source.html">isoMath.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="structPoint.html">Point</a> foundCoordinates = <a class="code" href="structPoint.html">Point</a>();</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Engine::instance</a>().map != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    foundCoordinates = <a class="code" href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Engine::instance</a>().<a class="code" href="classEngine.html#a371e914b9bf19dbb9c43c2f68213ec43">map</a>-&gt;<a class="code" href="classMap.html#a4619fa631a0082754a92f1d3a8530bba">findNodeInMap</a>(screenCoordinates);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="comment">// if negative coordinates are returned, this means that the point is outside of the grid</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment">// calculate the coordinates instead and make sure it&#39;s within grid boundaries</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">if</span> (foundCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> == -1)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    foundCoordinates = <a class="code" href="isoMath_8cxx.html#a0a076d973bc64ffa7859b894793c8000">calculateIsoCoordinates</a>(screenCoordinates);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (foundCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> &lt; 0)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      foundCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> = 0;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (foundCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> &gt;= <a class="code" href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Settings::instance</a>().<a class="code" href="structSettingsData.html#a2d5a16be6fa2ed89d2cac58e34aa2a7b">mapSize</a>)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="comment">// map (vector) size is 128, but coordinates ranges from 0 - 127</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      foundCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> = <a class="code" href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Settings::instance</a>().<a class="code" href="structSettingsData.html#a2d5a16be6fa2ed89d2cac58e34aa2a7b">mapSize</a> - 1;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (foundCoordinates.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> &lt; 0)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      foundCoordinates.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> = 0;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (foundCoordinates.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> &gt;= <a class="code" href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Settings::instance</a>().<a class="code" href="structSettingsData.html#a2d5a16be6fa2ed89d2cac58e34aa2a7b">mapSize</a>)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="comment">// map (vector) size is 128, but coordinates range from 0 - 127</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      foundCoordinates.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> = <a class="code" href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Settings::instance</a>().<a class="code" href="structSettingsData.html#a2d5a16be6fa2ed89d2cac58e34aa2a7b">mapSize</a> - 1;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">return</span> foundCoordinates;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="ttc" id="structPoint_html_a8c779e11e694b20e0946105a9f5de842"><div class="ttname"><a href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">Point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00011">point.hxx:11</a></div></div>
<div class="ttc" id="structPoint_html_a2e1b5fb2b2a83571f5c0bc0f66a73cf7"><div class="ttname"><a href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">Point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00016">point.hxx:16</a></div></div>
<div class="ttc" id="classSingleton_html_af5cb1e5749949e2b68416cfb8d378044"><div class="ttname"><a href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Singleton&lt; Engine &gt;::instance</a></div><div class="ttdeci">static Engine &amp; instance(void)</div><div class="ttdoc">Get an instance of the singleton. </div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8hxx_source.html#l00015">Singleton.hxx:15</a></div></div>
<div class="ttc" id="classMap_html_a4619fa631a0082754a92f1d3a8530bba"><div class="ttname"><a href="classMap.html#a4619fa631a0082754a92f1d3a8530bba">Map::findNodeInMap</a></div><div class="ttdeci">Point findNodeInMap(const SDL_Point &amp;screenCoordinates) const </div><div class="ttdoc">Returns the node at given screencoordinates. </div><div class="ttdef"><b>Definition:</b> <a href="Map_8cxx_source.html#l00306">Map.cxx:306</a></div></div>
<div class="ttc" id="classEngine_html_a371e914b9bf19dbb9c43c2f68213ec43"><div class="ttname"><a href="classEngine.html#a371e914b9bf19dbb9c43c2f68213ec43">Engine::map</a></div><div class="ttdeci">Map * map</div><div class="ttdef"><b>Definition:</b> <a href="Engine_8hxx_source.html#l00091">Engine.hxx:91</a></div></div>
<div class="ttc" id="structSettingsData_html_a2d5a16be6fa2ed89d2cac58e34aa2a7b"><div class="ttname"><a href="structSettingsData.html#a2d5a16be6fa2ed89d2cac58e34aa2a7b">SettingsData::mapSize</a></div><div class="ttdeci">int mapSize</div><div class="ttdoc">the size of the map </div><div class="ttdef"><b>Definition:</b> <a href="Settings_8hxx_source.html#l00019">Settings.hxx:19</a></div></div>
<div class="ttc" id="structPoint_html"><div class="ttname"><a href="structPoint.html">Point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00006">point.hxx:6</a></div></div>
<div class="ttc" id="isoMath_8cxx_html_a0a076d973bc64ffa7859b894793c8000"><div class="ttname"><a href="isoMath_8cxx.html#a0a076d973bc64ffa7859b894793c8000">calculateIsoCoordinates</a></div><div class="ttdeci">Point calculateIsoCoordinates(const SDL_Point &amp;screenCoordinates)</div><div class="ttdoc">Calculates screen space coordinates to isometric space coordinates. A formula is used to calculate th...</div><div class="ttdef"><b>Definition:</b> <a href="isoMath_8cxx_source.html#l00008">isoMath.cxx:8</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx_ad3c5f070c4a876bc6e8978635d02ce52_cgraph.svg" width="100%" height="465"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx_ad3c5f070c4a876bc6e8978635d02ce52_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a53022f1a18227cd66aef14eaf988f686"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structPoint.html">Point</a>&gt; createBresenhamLine </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPoint.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>isoCoordinatesStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPoint.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>isoCoordinatesEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a line between two points using the Bresenham Line algorithm Creates a line between two points using the Bresenham Line algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structPoint.html">Point()</a></td><td>- start coordinates </td></tr>
    <tr><td class="paramname"><a class="el" href="structPoint.html">Point()</a></td><td>- end coordinates </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;Point&gt;() - contains coordinates for each tile between start and end coordinates, including start and end </dd></dl>

<p>Definition at line <a class="el" href="isoMath_8cxx_source.html#l00084">84</a> of file <a class="el" href="isoMath_8cxx_source.html">isoMath.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  std::vector&lt;Point&gt; line;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordtype">int</span> x0 = isoCoordinatesStart.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordtype">int</span> x1 = isoCoordinatesEnd.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">int</span> y0 = isoCoordinatesStart.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">int</span> y1 = isoCoordinatesEnd.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="structPoint.html">Point</a> p;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  p.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> = x0;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  p.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> = y0;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  line.push_back(p);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (x0 != x1 || y0 != y1)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">int</span> dx = x1 - x0;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">int</span> dy = y1 - y0;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">int</span> stepx = 0;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">int</span> stepy = 0;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (dx &lt; 0)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      dx = -dx;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      stepx = -1;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      stepx = 1;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> (dy &lt; 0)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      dy = -dy;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      stepy = -1;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      stepy = 1;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// dx is now 2*dx</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    dx &lt;&lt;= 1;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// dy is now 2*dy</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    dy &lt;&lt;= 1;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (dx &gt; dy)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keywordtype">int</span> fraction = dy - (dx &gt;&gt; 1);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">while</span> (x0 != x1)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        x0 += stepx;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span> (fraction &gt;= 0)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;          p.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> = x0;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;          p.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> = y0;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          line.push_back(p);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          y0 += stepy;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;          fraction -= dx;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        fraction += dy;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (0 &lt;= x0 &amp;&amp; 0 &lt;= y0)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          p.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> = x0;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;          p.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> = y0;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;          line.push_back(p);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordtype">int</span> fraction = dx - (dy &gt;&gt; 1);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">while</span> (y0 != y1)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> (fraction &gt;= 0)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;          x0 += stepx;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;          fraction -= dy;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;          p.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> = x0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          p.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> = y0;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;          line.push_back(p);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        y0 += stepy;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        fraction += dx;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> (0 &lt;= x0 &amp;&amp; 0 &lt;= y0)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;          p.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> = x0;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;          p.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> = y0;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;          line.push_back(p);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">return</span> line;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="ttc" id="structPoint_html_a8c779e11e694b20e0946105a9f5de842"><div class="ttname"><a href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">Point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00011">point.hxx:11</a></div></div>
<div class="ttc" id="structPoint_html_a2e1b5fb2b2a83571f5c0bc0f66a73cf7"><div class="ttname"><a href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">Point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00016">point.hxx:16</a></div></div>
<div class="ttc" id="structPoint_html"><div class="ttname"><a href="structPoint.html">Point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00006">point.hxx:6</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx_a53022f1a18227cd66aef14eaf988f686_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="abef3481b8248d064e79f9d0b2a27cfe7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isPointWithinMapBoundaries </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPoint.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>isoCoordinates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if given coordinates are within map boundaries Checks if coordinates are within map boundaries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structPoint.html">Point</a></td><td>object - coordinates to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool - true if coordinates are inside the map bounds. </dd></dl>

<p>Definition at line <a class="el" href="isoMath_8cxx_source.html#l00078">78</a> of file <a class="el" href="isoMath_8cxx_source.html">isoMath.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> (isoCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> &gt;= 0 &amp;&amp; isoCoordinates.<a class="code" href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">x</a> &lt; <a class="code" href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Settings::instance</a>().<a class="code" href="structSettingsData.html#a2d5a16be6fa2ed89d2cac58e34aa2a7b">mapSize</a>) &amp;&amp;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;         (isoCoordinates.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> &gt;= 0 &amp;&amp; isoCoordinates.<a class="code" href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">y</a> &lt; <a class="code" href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Settings::instance</a>().<a class="code" href="structSettingsData.html#a2d5a16be6fa2ed89d2cac58e34aa2a7b">mapSize</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div><div class="ttc" id="structPoint_html_a8c779e11e694b20e0946105a9f5de842"><div class="ttname"><a href="structPoint.html#a8c779e11e694b20e0946105a9f5de842">Point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00011">point.hxx:11</a></div></div>
<div class="ttc" id="structPoint_html_a2e1b5fb2b2a83571f5c0bc0f66a73cf7"><div class="ttname"><a href="structPoint.html#a2e1b5fb2b2a83571f5c0bc0f66a73cf7">Point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8hxx_source.html#l00016">point.hxx:16</a></div></div>
<div class="ttc" id="classSingleton_html_af5cb1e5749949e2b68416cfb8d378044"><div class="ttname"><a href="classSingleton.html#af5cb1e5749949e2b68416cfb8d378044">Singleton&lt; Settings &gt;::instance</a></div><div class="ttdeci">static Settings &amp; instance(void)</div><div class="ttdoc">Get an instance of the singleton. </div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8hxx_source.html#l00015">Singleton.hxx:15</a></div></div>
<div class="ttc" id="structSettingsData_html_a2d5a16be6fa2ed89d2cac58e34aa2a7b"><div class="ttname"><a href="structSettingsData.html#a2d5a16be6fa2ed89d2cac58e34aa2a7b">SettingsData::mapSize</a></div><div class="ttdeci">int mapSize</div><div class="ttdoc">the size of the map </div><div class="ttdef"><b>Definition:</b> <a href="Settings_8hxx_source.html#l00019">Settings.hxx:19</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx_abef3481b8248d064e79f9d0b2a27cfe7_cgraph.svg" width="411" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="isoMath_8hxx_abef3481b8248d064e79f9d0b2a27cfe7_icgraph.svg" width="100%" height="473"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_2052808828190f934b76e979ee65af8a.html">engine</a></li><li class="navelem"><a class="el" href="dir_8c0f887d135e3a09c81f308091ce630b.html">basics</a></li><li class="navelem"><a class="el" href="isoMath_8hxx.html">isoMath.hxx</a></li>
    <li class="footer">Generated on Thu Jun 27 2019 16:04:54 for Cytopia by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
